/* =========================================================
   Utilities
   ========================================================= */
.font-xs { font-size: 0.75rem !important; }

/* =========================================================
   Root layout
   ========================================================= */
html,body,#root,.app-container{height:100%;min-height:0;margin:0;padding:0}
html,body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}
.app-container{display:flex;flex-direction:column;height:100%;width:100%;overflow:hidden}

:root[data-mantine-color-scheme='light'] {
    --tab-close-fg: #333;
    --tab-close-bg: rgba(0,0,0,.06);
    --tab-close-ring: rgba(0,0,0,.15);
    --tab-close-bg-active: rgba(0,0,0,.10);
}

:root[data-mantine-color-scheme='dark'] {
    --tab-close-fg: #ddd;
    --tab-close-bg: rgba(255,255,255,.10);
    --tab-close-ring: rgba(255,255,255,.18);
    --tab-close-bg-active: rgba(255,255,255,.16);
}

/* =========================================================
   Navbar
   ========================================================= */
.thin-navbar{max-height:calc(5vh * var(--ui-scale));padding:0!important;font-size:.875rem;z-index:2000}

/* =========================================================
   Dockable frame + zones
   ========================================================= */
.dockable-frame{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden}
.dockable-frame-row{display:flex;flex:1 1 0;min-height:0;min-width:0;overflow:hidden}

/* Splitters */
.dock-splitter,.dock-splitter-horizontal{background:#1d1d1d;user-select:none;transition:background .2s;position:relative}
.dock-splitter{width:1px;cursor:col-resize;z-index:2}
.dock-splitter::before{content:"";position:absolute;left:-6px;right:-6px;top:0;bottom:0;cursor:col-resize}
.dock-splitter-horizontal{height:2px;width:100%;cursor:row-resize;z-index:3}
.dock-splitter-horizontal::before{content:"";position:absolute;left:0;right:0;top:-6px;bottom:-6px;cursor:row-resize}
.dock-splitter:hover,.dock-splitter-horizontal:hover{background:#bbb}

/* Zones */
.dock-zone-w{grid-area:w}
.dock-zone-center{grid-area:center}
.dock-zone-e{grid-area:e}
.dock-zone-s{grid-area:s}
.dock-zone{min-width:48px;min-height:48px;border:1px solid #000;background:transparent;position:relative;overflow:auto;transition:background .1s,border-color .1s;padding:0;display:flex;flex-direction:column;gap:8px;align-items:flex-start}
.dock-zone.center{background:#fff;overflow:hidden!important}
.dock-zone.hovered{background:#e3f2fd;border-color:#2196f3;z-index:2}
.dock-zone-s{flex-direction:row;height:20%;min-height:10%;max-height:none!important;width:100%}
.dock-zone-w,.dock-zone-e{min-width:10%;max-width:none!important;width:auto;flex:0 0 auto;flex-direction:column}

/* West zone: edge-to-edge stack, padding left, scroll only when needed */
.dock-zone-w{padding:0!important;border:1px solid #000;gap:0!important;overflow:hidden;align-items:stretch!important}
.dock-zone-w .dockable-drag-wrapper,
.dock-zone-w .dockable-item,
.dock-zone-w .mantine-Card-root,
.dock-zone-w .card-body,
.dock-zone-w .component-content-root{display:flex;flex:1 1 auto;min-width:0;min-height:0;width:100%;height:100%}
.dock-zone-w .card-body{padding:0!important;overflow-x:auto;overflow-y:auto;box-sizing:border-box}
.dock-zone-w .component-content-root{flex-direction:column;padding:6px 8px 8px 10px;box-sizing:border-box}

/* Tree: no wrap; allow content to exceed width to trigger horizontal scroll */
.dock-zone-w .tree-label{white-space:nowrap}
.dock-zone-w .project-tree,
.dock-zone-w .project-tree-fill{display:inline-block;min-width:max-content}
.dock-zone-w .tree-node,
.dock-zone-w .tree-children{width:auto;max-width:none;min-width:0}

/* Mantine ScrollArea inside west should just fill, no extra padding */
.dock-zone-w .mantine-ScrollArea-root,
.dock-zone-w .mantine-ScrollArea-viewport{width:100%;height:100%;min-width:0;min-height:0}

/* East zone: edge-to-edge, no inner padding, children stretch */
.dock-zone-e {
    padding: 0 !important;
    gap: 0 !important;
    align-items: stretch !important;
    overflow: hidden;
}
.dock-zone-e .dockable-drag-wrapper,
.dock-zone-e .dockable-item,
.dock-zone-e .mantine-Card-root,
.dock-zone-e .card-body,
.dock-zone-e .component-content-root {
    display: flex;
    flex: 1 1 auto;
    min-width: 0;
    min-height: 0;
    width: 100%;
    height: 100%;
}
.dock-zone-e .card-body { overflow: auto; }

/* Center zone */
.dock-zone-center{flex:1 1 0;min-width:0;flex-direction:column;align-items:stretch}
.dock-zone-center>*{flex:1 1 auto;min-width:0;min-height:0;width:100%}

/* =========================================================
   Center zone tabs
   ========================================================= */
.wizard-workspace{display:flex;flex-direction:column;width:100%;height:100%;min-height:0;overflow:hidden}

.wizard-tab-body{flex:1 1 auto;min-height:0;display:flex;background:inherit;overflow:auto}
.wizard-tab-body>*{flex:1 1 0;min-width:0}

/* =========================================================
   Wizard / Manual Entry (unchanged from your version)
   ========================================================= */
.wizard-grid{display:grid;grid-template-columns:max-content 1fr;column-gap:.5rem;row-gap:.5rem;align-items:center}
.wizard-grid .form-group.row{display:contents}
.wizard-grid .form-group.row>.col-auto{grid-column:1}
.wizard-grid .form-group.row>.col{grid-column:2;min-width:0}
.wizard-grid .col-form-label,.wizard-grid .wizard-label-fixed{white-space:nowrap}
.wizard-grid .form-control,.wizard-grid .form-select,.wizard-grid textarea{width:100%}
.wizard-footer{flex-shrink:0;width:100%;padding:10px 16px;border-top:1px solid #333;display:flex;justify-content:flex-end;align-items:center;background:inherit}
.wizard-footer .btn.btn-compact{--btn-scale:var(--ui-scale,1);--btn-font:calc(1rem * var(--btn-scale));--btn-pad-y:calc(.25em * var(--btn-scale));--btn-pad-x:calc(.25em * var(--btn-scale));--btn-min-i:calc(7ch * var(--btn-scale));--btn-min-b:calc(2em * var(--btn-scale));font-size:var(--btn-font);line-height:1}

/* =========================================================
   Manual Data Entry Editor
   ========================================================= */
.manual-entry-content{flex:1 1 0;min-height:0;max-height:100%;max-width:100%;overflow-y:auto;display:flex;flex-direction:column;margin:0;padding:0;border:none}
.manual-entry-content > legend + * {margin-top: var(--mantine-spacing-md);}
.manual-entry-content > legend {display: block;}
.manual-entry-table-panel{
    width: 90%;
    min-width: 0;
    max-width: 100%;
    margin-top: 1em;
    padding-bottom: .5em;
    box-sizing: border-box;
    flex: 1 1 auto;
    min-height: 0;
    max-height: none;
    overflow: auto;
}

.manual-entry-row{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}
.manual-entry-label{min-width:90px;font-size:.875rem;line-height:1.2;margin-bottom:0;text-align:left;white-space:nowrap}
.manual-entry-field{flex:1 1 0;min-width:0}
.manual-entry-field .form-control,.manual-entry-field .form-select,.manual-entry-field textarea{width:100%;box-sizing:border-box}
.manual-entry-table{width:300px;min-width:0;table-layout:fixed;font-size:.8em;background:#222;border-collapse:collapse;color:#eee}
.manual-entry-th,.manual-entry-input{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.manual-entry-th{width:140px;padding:.2rem .3rem;text-align:center;font-weight:700;background:#111;color:#fff;font-size:1em}
.manual-entry-table th,.manual-entry-table td{border:1px solid #444}
.manual-entry-input{font-size:.9em;height:22px;padding:2px 4px;width:130px;background:transparent;color:#eee;box-shadow:none;border:none}
.manual-entry-input[type=number]::-webkit-outer-spin-button,
.manual-entry-input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}

/* =========================================================
   Misc
   ========================================================= */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}

.wizardFrame {
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0;
}

.wizardStack {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-height: 0;
}

.wizardBody {
    flex: 1;
    min-height: 0;
    overflow: auto;
    padding: var(--mantine-spacing-sm);
}

.wizardFooter {
    position: sticky;
    bottom: 0;
    padding: var(--mantine-spacing-xs);
    z-index: 1;
}

.editor-card {
    height: 100%;
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.editor-scroll {
    flex: 1;
    min-height: 0;
}

.wizard-body {
    flex: 1 1 auto;
    min-height: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.summary-root {
    flex: 1 1 auto;
    min-height: 0;
    display: flex;
    flex-direction: column;
}

.summary-scroll {
    flex: 1 1 auto;
    min-height: 0;
}

